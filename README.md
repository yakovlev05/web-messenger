# –ü—Ä–æ—Å—Ç–æ–π web-messenger üì®

Web-messenger –Ω–∞ Spring + React

- –°–∞–π—Ç ‚Äî [web-messenger.yakovlev05.ru](https://web-messenger.yakovlev05.ru/)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API - [web-messenger.yakovlev05.ru/swagger-ui](https://web-messenger.yakovlev05.ru/swagger-ui/index.html)

# –û –ø—Ä–æ–µ–∫—Ç–µ üóíÔ∏è

–ü—Ä–æ–µ–∫—Ç –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ üìñ —Å–æ Spring. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å üéØ ‚Äî –Ω–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å REST –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ spring. –í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ frontend —á–∞—Å—Ç—å –Ω–µ –∏–≥—Ä–∞–µ—Ç –æ—Å–æ–±–æ–π —Ä–æ–ª–∏ –∏ –¥–µ–ª–∞–ª–∞—Å—å –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω—ã üèÅ.

# –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π üïπÔ∏è

## Backend <img width="30" src="https://user-images.githubusercontent.com/25181517/117201470-f6d56780-adec-11eb-8f7c-e70e376cfd07.png" alt="Spring" title="Spring"/>

–ù–∞ –±—ç–∫–µ–Ω–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Spring Boot. –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –ª—É–∫–æ–≤–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ üßÖ:
- Repository - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ üíæ
- Service - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ üí°
- DTO –∏ Entity - –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö üí¨
- Controller - REST API üìÉ

–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è üîè –ø—Ä–∏ –ø–æ–º–æ—â–∏ JWT, –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Websocket (STOMP) –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ üîó.

## Frontend <img width="30" src="https://github-production-user-asset-6210df.s3.amazonaws.com/62091613/261395532-b40892ef-efb8-4b0e-a6b5-d1cfc2f3fc35.png" alt="Vite" title="Vite"/> + <img width="30" src="https://user-images.githubusercontent.com/25181517/183897015-94a058a6-b86e-4e42-a37f-bf92061753e5.png" alt="React" title="React"/>

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –±—ã–ª —Å–æ–∑–¥–∞–Ω –¥–ª—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É–¥–æ–±–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è / —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚ú®.
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è Vite + React TS. –í–µ—Å—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ üñåÔ∏è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ—Ç [Ant Design](https://ant.design/). –¢–∞–∫–∂–µ –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ üíÑ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å [tailwindcss](https://tailwindcss.com/).

# –ü—Ä–æ .env —Ñ–∞–π–ª ‚öôÔ∏è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL <img width="30" src="https://user-images.githubusercontent.com/25181517/117208740-bfb78400-adf5-11eb-97bb-09072b6bedfc.png" alt="PostgreSQL" title="PostgreSQL"/>

- **`POSTGRES_DB`** - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–¥
- **`POSTGRES_USER`** - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **`POSTGRES_PASSWORD`** - –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **`SPRING_DATASOURCE_URL`** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ jdbc (–ø—Ä–∏–º–µ—Ä: `jdbc:postgresql://localhost:5432/mydata`)

## JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è üîè

- **`JWT_SECRET_KEY`** - –∫–ª—é—á 
- **`JWT_TOKEN_LIFE_TIME_IN_MS`** - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ access —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
- **`JWT_REFRESH_TOKEN_LIFE_TIME_IN_MS`** - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ refresh —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

## –î—Ä—É–≥–æ–µ ‚ÑπÔ∏è

- **`WEBSOCKET_ALLOWED_ORIGINS`** - –•–æ—Å—Ç—ã, —Å –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ webscoket (–ø—Ä–∏–º–µ—Ä: `http://localhost,https://example.com`)


# –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å <img width="30" src="https://user-images.githubusercontent.com/25181517/117207330-263ba280-adf4-11eb-9b97-0ac5b40bc3be.png" alt="Docker" title="Docker"/>

```
System.out.println(‚ù§Ô∏è==üêã);
true
```

–í–µ—Å—å —Å–µ—Ä–≤–∏—Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–æ–∫–µ—Ä:

- –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π üì©
```
git clone https://github.com/yakovlev05/web-messenger.git
```

- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é üìÇ
```
cd web-messenger
```

- –ó–∞–ø—É—Å–∫–∞–µ–º docker üê≥
```
docker compose up -d
```

‚ÄºÔ∏è–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (—Å–µ—Ä–≤–∏—Å `web-messenger-frontend`) –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚öíÔ∏è (—Ç–æ –µ—Å—Ç—å –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã üóÉÔ∏è). –ß—Ç–æ–±—ã —ç—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–º–µ–Ω—è–π—Ç–µ –≤ docker-compose.yml `target: dev` –Ω–∞ `target: prod` –∏ –ø–æ—Ä—Ç –≤ nginx.conf —Å 5173 –Ω–∞ 80.
